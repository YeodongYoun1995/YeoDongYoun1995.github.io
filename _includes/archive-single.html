{% include base_path %}

{% assign current_category = nil %}
{% assign category_counter = 0 %} <!-- Initialize a counter for numbering -->

{% for post in site.publications reversed %}
  <!-- Subsection Title -->
  {% if post.category != current_category %}
    {% assign current_category = post.category %}
    <h2>{{ current_category | capitalize }}</h2>
    {% assign category_counter = 0 %} <!-- Reset counter for each category -->
  {% endif %}

  {% assign category_counter = category_counter | plus: 1 %} <!-- Increment counter -->

  <!-- Publication Entry -->
  <div class="publication-entry">
    <!-- Number and Title on the Same Line -->
    <p>
      <strong>{{ category_counter }}. {{ post.title | markdownify | strip }}</strong>
    </p>

    <!-- Authors -->
    <p style="margin: 0;">{{ post.authors | markdownify | strip }}</p>

    <!-- Venue, Year, and PDF Link on the Same Line -->
    <p style="margin: 0;">
      <em>{{ post.venue | markdownify | strip }}</em>, {{ post.date | date: "%Y" }}
      {% if post.paperurl %}
        [<a href="{{ post.paperurl }}">PDF</a>]
      {% endif %}
    </p>
  </div>
{% endfor %}
